# =============================================================================
# Magento B2B On-Prem REST Connector - Environment Configuration Template
# Copy to .env and fill in values before running.
# =============================================================================

# ---------------------------------------------------------------------------
# Magento Connection
# ---------------------------------------------------------------------------
MAGENTO_STORE_URL=https://your-magento-store.example.com
MAGENTO_USERNAME=company_admin@example.com
MAGENTO_PASSWORD=your_password_here

# ---------------------------------------------------------------------------
# Veza Connection
# ---------------------------------------------------------------------------
VEZA_URL=https://your-tenant.veza.com
VEZA_API_KEY=your_veza_api_key_here

# ---------------------------------------------------------------------------
# Provider Configuration
# ---------------------------------------------------------------------------
# Identifies this provider in Veza. Change only if running multiple instances.
PROVIDER_NAME=Magento_OnPrem_REST
# Optional prefix added to provider name (e.g. "prod" -> "prod_Magento_OnPrem_REST")
PROVIDER_PREFIX=

# ---------------------------------------------------------------------------
# Run Behaviour
# ---------------------------------------------------------------------------
# DRY_RUN=true  -> extract and save JSON, do NOT push to Veza
# DRY_RUN=false -> push extracted data to Veza
DRY_RUN=true

# Save OAA payload to output/ directory as JSON
SAVE_JSON=true

# Enable verbose debug output
DEBUG=false

# ---------------------------------------------------------------------------
# Output / Retention
# ---------------------------------------------------------------------------
OUTPUT_DIR=./output
OUTPUT_RETENTION_DAYS=30

# ---------------------------------------------------------------------------
# REST-Specific: User-Role Gap Strategy
# ---------------------------------------------------------------------------
# The REST API does not expose which role is assigned to each user.
# Choose a strategy to handle this gap:
#
#   default_role    - assign "Default User" role to non-admin users (recommended)
#   csv_supplement  - load user->role mapping from a CSV file (see below)
#   all_roles       - create roles but skip all user-role links
#   skip            - omit all user-role relationships entirely
USER_ROLE_STRATEGY=default_role

# Path to CSV file when USER_ROLE_STRATEGY=csv_supplement
# CSV format: email,role_name
USER_ROLE_MAPPING_PATH=./data/user_role_mapping.csv
