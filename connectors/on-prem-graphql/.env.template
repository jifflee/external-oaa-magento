# ============================================================
# Magento B2B On-Prem GraphQL Connector - Environment Template
# Copy to .env and fill in your values before running.
# ============================================================

# --- Magento Connection ---
MAGENTO_STORE_URL=https://your-magento-store.example.com
MAGENTO_USERNAME=your-admin@example.com
MAGENTO_PASSWORD=your-password

# --- Veza Connection ---
VEZA_URL=https://your-tenant.veza.com
VEZA_API_KEY=your-veza-api-key

# --- Provider Identity ---
# Base name for the provider as it appears in Veza
PROVIDER_NAME=Magento_OnPrem_GraphQL
# Optional prefix to distinguish multiple instances (leave blank if only one)
PROVIDER_PREFIX=

# --- Run Behaviour ---
# DRY_RUN=true  -> extract and save JSON only, do not push to Veza
# DRY_RUN=false -> extract and push to Veza
DRY_RUN=true
# SAVE_JSON=true -> write OAA payload JSON to OUTPUT_DIR for inspection
SAVE_JSON=true
# DEBUG=true -> enable verbose output
DEBUG=false

# --- Output ---
OUTPUT_DIR=./output
OUTPUT_RETENTION_DAYS=30

# --- Feature Flags ---
# Use REST /company/role endpoint to supplement GraphQL data with explicit
# allow/deny permissions.  Set to false to skip (permissions links will be
# unavailable but extraction will still complete).
USE_REST_ROLE_SUPPLEMENT=true
